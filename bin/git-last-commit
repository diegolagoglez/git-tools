#!/bin/bash

function usage {
	echo "$(basename $0) - Utility to view the last commit id."
	echo "Usage: $(basename $0) [option]"
	echo "Options:"
	echo "  abbr : Shows abbreviated last commit."
	echo "  date : Shows last commit date."
	echo "  help : Shows this help."
}

function last_commit {
	git rev-parse HEAD
}

function last_commit_abbr {
	git rev-parse --short HEAD
}

function last_commit_date {
		git show -s --format=%ci "$1"
}

case "$1" in
	abbr)
		last_commit_abbr
	;;
	date)
		last_commit_date $(last_commit)
	;;
	help)
		usage
	;;
	*)
		last_commit
	;;
esac

